"use strict";var mongoose=require("mongoose"),validator=require("validator"),bcrypt=require("bcrypt"),jwt=require("jsonwebtoken"),userSchema=new mongoose.Schema({firstName:{type:String,required:!0,minLength:4,maxLength:50,trim:!0},lastName:{type:String,trim:!0,required:!0},emailId:{type:String,required:[!0,"Email is required"],unique:!0,lowercase:!0,validate:function(e){if(!validator.isEmail(e))throw new Error("Invalid email"+e)}},password:{type:String,required:[!0,"Password is required"],minlength:[6,"Password must be at least 6 characters"],validate:function(e){if(!validator.isStrongPassword(e))throw new Error("Your password is weak.."+e)}},age:{type:Number,min:18},gender:{type:String,enum:{values:["male","female","others"],message:"{VALUE is not a valid gender type}"}},photoUrl:{type:String,default:"https://geographyandyou.com/images/user-profile.png",validate:function(e){if(!validator.isURL(e))throw new Error("Invalid url"+e)}},about:{type:String,default:"This is a default about of the user!",maxlength:[200,"About section cannot exceed 200 characters"]},skills:{type:[String]}},{timestamps:!0});userSchema.methods.getJWT=function(){var r,t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,regeneratorRuntime.awrap(jwt.sign({_id:r._id},"DEV@Tinder$123",{expiresIn:"1d"}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},null,this)},userSchema.methods.validatePassword=function(r){var t,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.password,e.next=4,regeneratorRuntime.awrap(bcrypt.compare(r,t));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},null,this)};var User=mongoose.model("user",userSchema);module.exports=User;
//# sourceMappingURL=user.min.js.map
