"use strict";var _fromUserId;function _defineProperty(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}var mongoose=require("mongoose"),connectionRequestSchema=new mongoose.Schema({fromUserId:(_fromUserId={type:mongoose.Schema.Types.ObjectId,ref:"User"},_defineProperty(_fromUserId,"ref","User"),_defineProperty(_fromUserId,"required",!0),_fromUserId),toUserId:{type:mongoose.Schema.Types.ObjectId,ref:"User",required:!0},status:{type:String,required:!0,enum:{values:["ignored","interested","accepted","rejected"],message:"{VALUE} is incorrect status type"}}},{timestamps:!0});connectionRequestSchema.index({fromUserId:1,toUserId:1}),connectionRequestSchema.pre("save",function(e){if(this.fromUserId.equals(this.toUserId))throw new Error("Cannot send connection request to yourself!");e()});var ConnectionRequestModel=new mongoose.model("ConnectionRequest",connectionRequestSchema);module.exports=ConnectionRequestModel;
//# sourceMappingURL=connectionRequest.min.js.map
