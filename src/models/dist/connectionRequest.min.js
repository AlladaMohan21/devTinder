"use strict";var _enum;function _defineProperty(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var mongoose=require("mongoose"),connectionRequestSchema=new mongoose.Schema({fromUserId:{type:mongoose.Schema.Types.ObjectId,required:!0},toUserId:{type:mongoose.Schema.Types.ObjectId,required:!0},status:{type:String,required:!0,enum:(_enum={values:["ignored","interested","accepeted","rejected"]},_defineProperty(_enum,"values",["ignored","interested","accepted","rejected"]),_defineProperty(_enum,"message","{VALUE} is incorrect status type"),_enum)}},{timestamps:!0});connectionRequestSchema.index({fromUserId:1,toUserId:1}),connectionRequestSchema.pre("save",function(e){if(this.fromUserId.equals(this.toUserId))throw new Error("Cannot send connection request to yourself!");e()});var ConnectionRequestModel=new mongoose.model("ConnectionRequest",connectionRequestSchema);module.exports=ConnectionRequestModel;
//# sourceMappingURL=connectionRequest.min.js.map
