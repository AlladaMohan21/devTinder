"use strict";var jwt=require("jsonwebtoken"),User=require("../models/user"),userAuth=function(r,t,n){var s,u,a,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.cookies.token,e.prev=1,s){e.next=4;break}throw new Error("Token not Found");case 4:return e.next=6,regeneratorRuntime.awrap(jwt.verify(s,"DEV@Tinder$123"));case 6:return u=e.sent,a=u._id,e.next=10,regeneratorRuntime.awrap(User.findById(a));case 10:if(o=e.sent){e.next=13;break}throw new Error("user Not found");case 13:r.user=o,n(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),t.status(400).send("ERROR"+e.t0.message);case 20:case"end":return e.stop()}},null,null,[[1,17]])};module.exports={userAuth:userAuth};
//# sourceMappingURL=auth.min.js.map
