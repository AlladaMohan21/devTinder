{"version":3,"sources":["auth.js"],"names":["jwt","require","User","userAuth","req","res","next","token","cookies","Error","verify","decodedObj","_id","findById","user","status","send","message","module","exports"],"mappings":";;AAAA,IAAMA,GAAG,GAACC,OAAO,CAAC,cAAD,CAAjB;;AACA,IAAMC,IAAI,GAACD,OAAO,CAAC,gBAAD,CAAlB;;AACA,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACNC,UAAAA,KADM,GACCH,GAAG,CAACI,OADL,CACND,KADM;AAAA;;AAAA,cAGTA,KAHS;AAAA;AAAA;AAAA;;AAAA,gBAIH,IAAIE,KAAJ,CAAU,iBAAV,CAJG;;AAAA;AAAA;AAAA,0CAMUT,GAAG,CAACU,MAAJ,CAAWH,KAAX,EAAiB,gBAAjB,CANV;;AAAA;AAMPI,UAAAA,UANO;AAONC,UAAAA,GAPM,GAODD,UAPC,CAONC,GAPM;AAAA;AAAA,0CAQIV,IAAI,CAACW,QAAL,CAAcD,GAAd,CARJ;;AAAA;AAQPE,UAAAA,IARO;;AAAA,cASTA,IATS;AAAA;AAAA;AAAA;;AAAA,gBAUH,IAAIL,KAAJ,CAAU,gBAAV,CAVG;;AAAA;AAabL,UAAAA,GAAG,CAACU,IAAJ,GAASA,IAAT;AACAR,UAAAA,IAAI;AAdS;AAAA;;AAAA;AAAA;AAAA;AAgBTD,UAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,UAAQ,YAAIC,OAAjC;;AAhBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;;AAuBAC,MAAM,CAACC,OAAP,GAAiB;AACfhB,EAAAA,QAAQ,EAARA;AADe,CAAjB","sourcesContent":["const jwt=require(\"jsonwebtoken\");\r\nconst User=require(\"../models/user\")\r\nconst userAuth = async (req, res, next) => {\r\n    const {token}=req.cookies;\r\n    try{\r\n    if(!token){\r\n        throw new Error(\"Token not Found\");\r\n    }\r\n    const decodedObj=await jwt.verify(token,\"DEV@Tinder$123\")\r\n    const {_id}=decodedObj;\r\n    const user=await User.findById(_id);\r\n    if(!user){\r\n        throw new Error(\"user Not found\");\r\n    \r\n    }\r\n    req.user=user;\r\n    next();\r\n    }catch(err){\r\n        res.status(400).send(\"ERROR\"+err.message);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nmodule.exports = {\r\n  userAuth,\r\n};"],"file":"auth.dev.js"}